<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>종각역 근처 맛집 추천</title>

    <link rel="stylesheet" href="project.css" />
    <link rel="stylesheet" href="search.css" />
    <link rel="stylesheet" href="map.css" />
    <script type="module" src="nav-search.js"></script>

    <!-- (선택) map 박스가 absolute로 튀는 걸 방지하는 덮어쓰기 -->
    <style>
      /* 지도 들어갈 공간 */
      #mapArea {
        width: 100%;
        height: 520px;
        background: #fff;
        border: 2px dashed #bbb;
        border-radius: 12px;
        display: grid;
        place-items: center;
        color: rgba(0, 0, 0, 0.45);
        font-weight: 700;
      }
    </style>
  </head>

  <body>
    <div class="container">
      <!-- Header -->
      <header class="top">
        <div class="app-icon">
          <img src="image-4.png" alt="app icon" />
        </div>

        <div class="title" onclick="location.href = 'test copy.html'">
          <h1>오늘 뭐 먹지?</h1>
          <p>추천 요리의 레시피와 맛집을 한번에 추천</p>
        </div>
      </header>

      <!-- Sticky Nav -->
      <div class="nav-wrap">
        <nav class="nav">
          <div class="nav-item" onclick="location.href = 'survey.html'">
            <span>오늘 뭐 먹지?</span>
          </div>

          <!-- 레시피 -->
          <div class="nav-item recipe" onclick="location.href = 'search.html'">
            <span>레시피</span>

            <div class="dropdown">
              <button
                class="drop-item"
                onclick="
                  event.stopPropagation();
                  location.href = 'search.html?q=양식';
                "
              >
                양식
              </button>
              <button
                class="drop-item"
                onclick="
                  event.stopPropagation();
                  location.href = 'search.html?q=중식';
                "
              >
                중식
              </button>
              <button
                class="drop-item"
                onclick="
                  event.stopPropagation();
                  location.href = 'search.html?q=일식';
                "
              >
                일식
              </button>
              <button
                class="drop-item"
                onclick="
                  event.stopPropagation();
                  location.href = 'search.html?q=한식';
                "
              >
                한식
              </button>
            </div>
          </div>

          <div class="nav-item" onclick="location.href = 'map.html'">
            <span>맛집 지도</span>
          </div>

          <!-- 검색 -->
          <div class="nav-item search">
            <form class="search-box">
              <input
                type="text"
                id="searchInput"
                placeholder="레시피/맛집 검색"
              />
              <button type="submit">검색</button>
            </form>
          </div>
        </nav>
      </div>

      <!-- ✅ 검색칸 로직은 그대로 유지 -->
      <div class="top-search">
        <form class="main-search-box">
          <input
            type="text"
            id="mainSearchInput"
            placeholder="맛집을 검색해보세요 (예: 일식,한식)"
          />
          <button type="submit">검색</button>
        </form>
      </div>
      <!-- ===== 필터 태그 영역 ===== -->
      <section class="filter-section">
        <!-- 음식 종류 -->
        <div class="filter-row">
          <button class="tag active" data-cuisine="all">전체</button>
          <button class="tag" data-cuisine="한식">한식</button>
          <button class="tag" data-cuisine="양식">양식</button>
          <button class="tag" data-cuisine="중식">중식</button>
          <button class="tag" data-cuisine="일식">일식</button>
        </div>

        <!-- 주재료 -->
        <div class="filter-row">
          <button class="tag active" data-ingredient="all">전체</button>
          <button class="tag" data-ingredient="돼지고기">돼지고기</button>
          <button class="tag" data-ingredient="소고기">소고기</button>
          <button class="tag" data-ingredient="닭고기">닭고기</button>
          <button class="tag" data-ingredient="해물">해물</button>
        </div>

        <!-- 탄수화물 -->
        <div class="filter-row">
          <button class="tag active" data-carb="all">전체</button>
          <button class="tag" data-carb="밥">밥</button>
          <button class="tag" data-carb="면">면</button>
          <button class="tag" data-carb="빵">빵</button>
        </div>
      </section>
      <section id="recipeDetail"></section>
      <!-- ✅ 아래 영역 전부 삭제하고, 지도 공간만 -->
      <main class="stage">
        <div id="map">여기에 지도 API가 들어갈 공간</div>
      </main>
      <!-- ✅ 가게 정보 모달 -->
      <dialog id="storeModal" class="store-modal">
        <form method="dialog" class="modal-card">
          <button class="modal-close" value="cancel">×</button>

          <h2 id="m-name"></h2>
          <p class="m-rating" id="m-rating"></p>

          <img id="m-img" alt="" />

          <p class="m-addr" id="m-addr"></p>
          <p class="m-phone" id="m-phone"></p>

          <div class="modal-actions">
            <button value="cancel">닫기</button>
          </div>
        </form>
      </dialog>
    </div>

    <script src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=86537b9f843907b794646f8a42054831"></script>
    <script src="map.js"></script>
  </body>
</html>
